그냥 대놓고 수학문제다. 난 알고리즘을 연습해야 하는데 왜 수학문제를 자꾸 연습하게 되는걸까.



## Problem

[https://programmers.co.kr/learn/courses/30/lessons/12923](https://programmers.co.kr/learn/courses/30/lessons/12923)

> ###### 문제 설명
>
> 그렙시에는 0으로 된 도로에 숫자 블록을 설치하기로 하였습니다. 숫자 블록의 규칙은 다음과 같습니다.
>
> 블록의 번호가 n 일 때, 가장 처음 블록은 n * 2번째 위치에 설치합니다. 그다음은 n * 3, 그다음은 n * 4, ...로 진행합니다.만약 기존에 블록이 깔려있는 자리라면 그 블록을빼고 새로운 블록으로 집어넣습니다.
>
> 예를 들어 1번 블록은 2,3,4,5, ... 인 위치에 우선 설치합니다. 그다음 2번 블록은 4,6,8,10, ... 인 위치에 설치하고, 3번 블록은 6,9,12... 인 위치에 설치합니다.
>
> 이렇게 3번 블록까지 설치하고 나면 첫 10개의 블록은 0, 1, 1, 2, 1, 3, 1, 2, 3, 2이됩니다.
>
> 그렙시는 길이가 1,000,000,000인 도로에 1번 블록부터 시작하여 10,000,000번 블록까지 위의 규칙으로 모두 놓았습니다.
>
> 그렙시의 시장님은 특정 구간의 어떤 블록이 깔려 있는지 알고 싶습니다.
>
> 구간을 나타내는 두 수 begin, end 가 매개변수로 주어 질 때, 그 구간에 깔려 있는 블록의 숫자 배열(리스트)을 return하는 solution 함수를 완성해 주세요.
>
> ##### 제한 사항
>
> - begin, end 는 1 이상 1,000,000,000이하의 자연수 이고, begin는 항상 end보다 작습니다.
> - end - begin 의 값은 항상 1,000을 넘지 않습니다.
>
> ------
>
> ##### 입출력 예
>
> | begin | end  |             result             |
> | :---: | :--: | :----------------------------: |
> |   1   |  10  | [0, 1, 1, 2, 1, 3, 1, 4, 3, 5] |

그렙시..? 설마 grep이냐?



## Trial

창문 여닫는 문제랑 비슷해서 감이 쉽게 온다. 일단 1000만 이하의 구간에서는 **자신을 제외한, 가장 큰 약수**가 블록의 숫자가 된다. 왜냐하면 더 작은 약수들은 나중에 나오는 숫자에 의해 덮어씌워지기 때문이다.

그럼 1000만 ~ 10억 사이의 구간은? ~~똑같다. 왜냐하면 **10억 < 1000만 * 1000만보다 큰 소수**이기 때문이다. 그러니까, 1000만 이후의 숫자들 중에 10억까지의 수를 새로 덮어쓸 만한 놈이 없다는 뜻이다.~~ 아니다. 잘못 생각했다. 2000만 2를 생각해보면 가장 큰 약수는 1000만 1이다. 하지만, 문제의 조건에서 1000만번까지의 블록만 사용한다고 했기 때문에 1000만 1은 올 수 없다. 즉, 1000만이 와야 한다.

```c++
#include <string>
#include <vector>
#include <cmath>

using namespace std;

int getBlockNo(long long n) {
    if(n == 1) return 0;
    int limit = floor(sqrt(n));
    int i = 2;
    while(i <= limit) {
        if(n % i == 0)
            return n / i;
        i++;
    }
    return 1;
}

vector<int> solution(long long begin, long long end) {
    vector<int> answer;
    for (long long i = begin; i <= end; i++) {
        answer.emplace_back(getBlockNo(i));
    }
    return answer;
}
```

따라서 이 풀이는 잘못된 풀이다. 그런데 통과되더라.

사람들이 질문 게시판에 글을 올려놨으니 문제조건이 바뀌든지 답이 바뀌든지 할 것이다. 일단 기다려보자.