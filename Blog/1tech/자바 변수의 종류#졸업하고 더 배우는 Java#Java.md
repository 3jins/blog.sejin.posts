내 기억이 맞다면 자바 변수의 종류에 대한 내용은 대학교 1학년 1학기 때, 그것도 중간고사 시험범위 때 배웠던 것 같다. 이 쉬운 내용을 이제 와서 정리하는 이유는 너무 아무것도 모를 때 배워서 전체적인 그림이 정리돼있지 않은 것을 깨달았기 때문이다.

자바에서 변수를 분류하는 기준은 여러 가지가 있다. 이번 글에서는 자바에서 변수의 종류가 어떻게 분류되는지에 대한 큰 그림을 다시 되짚어보는 시간을 갖도록 하겠다.



## 생명주기에 따른 분류

자바 변수는 선언 방식에 따라 생명 주기가 모두 다르다. 이는 JVM과 GC의 동작에 대해 이해하는 데에 필수적인 굉장히 중요한 내용이다.

### 지역 변수 (local variables)

중괄호를 기준으로 영역이 정해져서, 중괄호 블록을 벗어나면 소멸된다.

### 인스턴스 변수 (instance variables)

클래스 안, 메소드 밖에 선언되어, 객체의 상태를 표현하는 역할을 한다. 객체의 생성과 함께 초기화되며, **해당 객체에 대한 참조가 모두 끊어졌을 때, GC에 의해 소멸된다.**

### 매개 변수 (parameters)

메소드의 선언부에 인자로 넘어가는 변수다. 메소드의 호출과 함께 초기화되며, 메소드의 반환과 함께 소멸된다.

### 클래스 변수 (class variables)

인스턴스 변수와 같은 위치에 `static` 키워드와 함께 선언된다. C의 전역변수와 비슷한 포지션에 해당한다. **클래스가 최초 호출되었을 때 초기화되며, 자바 프로그램이 종료될 때 소멸한다.**



## 초기화 방법에 따른 분류

### 기본 자료형(primitive data type) 변수

- 종류
  - 정수형: `byte`, `short`, `int`,` long`, `char`
  - 소수형: `float`, `double`
  - 기타: `boolean`

### 참조 자료형(reference data type) 변수

- 특징

  - `new` 키워드를 통해 초기화된다.

  - `=` 외에 `+`, `-`, `*`, `/`, `++`, `--` 등 모든 연산자가 사용 불가능하다.

  - 단, `String`만은 기본 자료형처럼 쓸 수 있다.

- `new`

  간단히 말하면, 인스턴스를 생성하는 연산자다. `new`는 다음의 순서로 역할들을 수행한다고 한다. (실제 자바 코드를 본 것이 아니라서 정확히는 맞지 않을 수도 있다.)

  1. heap 영역에 공간을 마련한다.
  2. 해당 공간의 주소값을 객체에게 넘겨준다.
  3. 객체의 생성자를 호출한다.

- call by value

  - 참조 자료형이라 해도 메서드에 매개변수로 전달하면 **call by value**로 넘어간다. C와 Java에는 call by reference 개념이 없다.

  - 간단한 C 코드를 예시로 들어 설명하겠다.

    ```c
    #include <stdio.h>
    
    void foo(int* x) {
        printf("%d\n", *x); // 1
        x++;
        printf("%d\n", *x); // 2
    }

    int main() {
        printf("출력결과\n");
        int mainX = 1;
        foo(&mainX);
        printf("%d\n", mainX); // 3
        return 0;
    }
    ```
    
    ```
    출력결과
    1
    0
    1
    ```
    
    `// 2`의 결과가 0인 이유는 `x`의 값이 reference가 아니라 value이기 때문이다. `x`를 수정한다고 해서 `*x`가 수정되지 않는다. 따라서 참조가 깨지게 되고 0 또는 경우에 따라서는 쓰레기값이 출력될 것이다.
    
    `// 3`에서는 `*x`, 즉, `mainX ` 가 수정된 것이 아니므로, 2가 아닌 1이 출력된다. 따라서 C의 포인터 역시 call by value로 봐야 한다.
    
    C++의 참조자가 call by reference의 좋은 예시다.
  
- 종류

  - `Interface`
  - `Class`
  - `Array`

